{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '49423998-53f799fc922e58b577969e777'; \nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query) {\n    try {\n        const response = await axios.get(BASE_URL, {\n            params: {\n                key: API_KEY,\n                q: query,\n                image_type: 'photo',\n                orientation: 'horizontal',\n                safesearch: true,\n                per_page: 20,\n                page: 1, \n            }\n        });\n\n        if (response.data && response.data.hits) {\n            return response.data.hits;\n        } else {\n            throw new Error('No images found');\n        }\n    } catch (error) {\n        console.error('Error fetching images:', error);\n        throw error;\n    }\n}\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox = null;\n\nexport function renderGallery(images, galleryElement) {\n    console.log('Images to render:', images);\n\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <div class=\"photo-card\">\n            <a href=\"${largeImageURL}\" class=\"gallery-link\">\n                <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n            </a>\n            <div class=\"info\">\n                <p class=\"info-item\"><b>Likes</b><span>${likes}</span></p>\n                <p class=\"info-item\"><b>Views</b><span>${views}</span></p>\n                <p class=\"info-item\"><b>Comments</b><span>${comments}</span></p>\n                <p class=\"info-item\"><b>Downloads</b><span>${downloads}</span></p>\n            </div>\n        </div>\n    `).join('');\n\n    galleryElement.insertAdjacentHTML(\"beforeend\", markup);\n\n    if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n        });\n        console.log(\"‚úÖ Lightbox —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π!\");\n    } else {\n        \n        lightbox.refresh();\n        console.log(\"üîÑ Lightbox –æ–Ω–æ–≤–ª–µ–Ω–æ!\");\n    }\n}\n\nexport function clearGallery(galleryElement) {\n    galleryElement.innerHTML = '';\n}\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";  \nimport { fetchImages } from './js/pixabay-api';  \nimport { renderGallery } from './js/render-functions';  \n\nexport const refs = {\n  form: document.querySelector('.search-form'),\n  input: document.querySelector('#search-text'),\n  button: document.querySelector('button[type=\"submit\"]'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nfunction showLoader() {\n  refs.loader.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  refs.loader.classList.add('hidden');\n}\n\nfunction clearGallery() {\n  refs.gallery.innerHTML = '';\n}\n\n\nif (refs.form) {\n  refs.form.addEventListener('submit', async (e) => {\n    e.preventDefault();\n    const query = refs.input.value.trim();\n    \n    \n    if (!query.length) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please enter a search query.',\n        position: 'topRight',\n      });\n      return;\n    }\n\n\n    clearGallery();\n    \n    showLoader();\n\n    try {\n\n      const data = await fetchImages(query);\n      const images = data?.hits || [];\n\n  \n      if (images.length === 0) {\n        iziToast.info({\n          title: 'No Results',\n          message: 'No images found for your search.',\n          position: 'topRight',\n        });\n      } else {\n        \n        renderGallery(images, refs.gallery);\n      }\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again.',\n        position: 'topRight',\n      });\n    } finally {\n      \n      hideLoader();\n    }\n\n    \n    e.target.reset();\n  });\n} else {\n  console.error(\"‚ö†Ô∏è –§–æ—Ä–º–∞ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞ –≤ DOM!\");\n}"],"names":["API_KEY","BASE_URL","fetchImages","query","response","axios","error","lightbox","renderGallery","images","galleryElement","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","refs","showLoader","hideLoader","clearGallery","e","iziToast","data"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACrC,GAAI,CACA,MAAMC,EAAW,MAAMC,EAAM,IAAIJ,EAAU,CACvC,OAAQ,CACJ,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAM,CACT,CACb,CAAS,EAED,GAAIC,EAAS,MAAQA,EAAS,KAAK,KAC/B,OAAOA,EAAS,KAAK,KAErB,MAAM,IAAI,MAAM,iBAAiB,CAExC,OAAQE,EAAO,CACZ,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACT,CACL,CCzBA,IAAIC,EAAW,KAER,SAASC,EAAcC,EAAQC,EAAgB,CAClD,QAAQ,IAAI,oBAAqBD,CAAM,EAEvC,MAAME,EAASF,EAAO,IAAI,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,uBAErFL,CAAa;AAAA,4BACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,yDAGGC,CAAK;AAAA,yDACLC,CAAK;AAAA,4DACFC,CAAQ;AAAA,6DACPC,CAAS;AAAA;AAAA;AAAA,KAGjE,EAAE,KAAK,EAAE,EAEVR,EAAe,mBAAmB,YAAaC,CAAM,EAEhDJ,GAQDA,EAAS,QAAO,EAChB,QAAQ,IAAI,uBAAuB,IARnCA,EAAW,IAAIY,EAAe,aAAc,CACxC,aAAc,MACd,aAAc,GAC1B,CAAS,EACD,QAAQ,IAAI,6BAA6B,EAMjD,CC9BO,MAAMC,EAAO,CAClB,KAAM,SAAS,cAAc,cAAc,EAC3C,MAAO,SAAS,cAAc,cAAc,EAC5C,OAAQ,SAAS,cAAc,uBAAuB,EACtD,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEA,SAASC,GAAa,CACpBD,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CAEA,SAASE,GAAa,CACpBF,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC,CAEA,SAASG,GAAe,CACtBH,EAAK,QAAQ,UAAY,EAC3B,CAGIA,EAAK,KACPA,EAAK,KAAK,iBAAiB,SAAU,MAAOI,GAAM,CAChDA,EAAE,eAAc,EAChB,MAAMrB,EAAQiB,EAAK,MAAM,MAAM,KAAI,EAGnC,GAAI,CAACjB,EAAM,OAAQ,CACjBsB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,SAAU,UAClB,CAAO,EACD,MACD,CAGDF,IAEAF,IAEA,GAAI,CAEF,MAAMK,EAAO,MAAMxB,EAAYC,CAAK,EAC9BM,GAASiB,GAAA,YAAAA,EAAM,OAAQ,GAGzBjB,EAAO,SAAW,EACpBgB,EAAS,KAAK,CACZ,MAAO,aACP,QAAS,mCACT,SAAU,UACpB,CAAS,EAGDjB,EAAcC,EAAQW,EAAK,OAAO,CAErC,MAAe,CACdK,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0CACT,SAAU,UAClB,CAAO,CACP,QAAc,CAERH,GACD,CAGDE,EAAE,OAAO,OACb,CAAG,EAED,QAAQ,MAAM,6BAA6B"}